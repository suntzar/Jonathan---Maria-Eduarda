<!doctype html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Jonathan & Maria Eduarda - Nossa Hist√≥ria üíñ</title>
        <style>
            /* Reset B√°sico e Fontes */
            @import url("https://fonts.googleapis.com/css2?family=Parisienne&family=Lato:wght@300;400;700&display=swap");

            :root {
                /* Paleta Tema Escuro Estiloso */
                --primary-color: #e91e63; /* Rosa vibrante / Magenta */
                --secondary-color: #880e4f; /* Rosa mais escuro / Vinho Intenso */
                --accent-color: #f06292; /* Rosa mais claro para detalhes */
                --text-color: #f5f5f5; /* Branco suave / Cinza muito claro */
                --white: #ffffff;
                --bg-color: #121212; /* Preto / Cinza muito oscuro */
                --bg-secondary-color: #1e1e1e; /* Cinza escuro para se√ß√µes */
                --shadow-color: rgba(233, 30, 99, 0.3); /* Sombra com cor prim√°ria */

                --font-heading: "Parisienne", cursive;
                --font-body: "Lato", sans-serif;

                --icon-size: 1.5rem; /* Tamanho padr√£o para √≠cones Feather */
            }

            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            html {
                scroll-behavior: smooth;
            }

            body {
                font-family: var(--font-body);
                color: var(--text-color);
                background-color: var(--bg-color);
                line-height: 1.6;
                overflow-x: hidden; /* Previne scroll horizontal */
                position: relative; /* Necess√°rio para z-index da chuva de cora√ß√µes */
            }

            /* Estilo base para √≠cones Feather */
            i[data-feather] {
                vertical-align: middle;
                width: var(--icon-size);
                height: var(--icon-size);
                stroke-width: 2;
            }

            /* --- Anima√ß√£o Chuva de Cora√ß√µes --- */
            #heart-rain {
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                overflow: hidden; z-index: 0; pointer-events: none;
            }
            .heart {
                position: absolute; top: -10vh; font-size: 1.5rem;
                color: var(--primary-color); opacity: 0.7;
                animation: fall linear infinite; user-select: none;
            }
            /* ... (varia√ß√µes .heart mantidas) ... */
            .heart:nth-child(1) { left: 10%; animation-duration: 10s; animation-delay: 0s; opacity: 0.6; font-size: 1.4rem; }
            .heart:nth-child(2) { left: 20%; animation-duration: 8s; animation-delay: 1s; }
            .heart:nth-child(3) { left: 30%; animation-duration: 12s; animation-delay: 0.5s; opacity: 0.8; font-size: 1.8rem; }
            .heart:nth-child(4) { left: 40%; animation-duration: 7s; animation-delay: 2s; }
            .heart:nth-child(5) { left: 50%; animation-duration: 11s; animation-delay: 0s; opacity: 0.5; font-size: 2rem; }
            .heart:nth-child(6) { left: 60%; animation-duration: 9s; animation-delay: 1.5s; }
            .heart:nth-child(7) { left: 70%; animation-duration: 13s; animation-delay: 0.2s; font-size: 1.6rem; }
            .heart:nth-child(8) { left: 80%; animation-duration: 7.5s; animation-delay: 2.5s; opacity: 0.9; }
            .heart:nth-child(9) { left: 90%; animation-duration: 10.5s; animation-delay: 0.8s; font-size: 1.3rem; }
            .heart:nth-child(10) { left: 5%; animation-duration: 9.5s; animation-delay: 3s; opacity: 0.7; }
            .heart:nth-child(11) { left: 25%; animation-duration: 11.5s; animation-delay: 1.8s; font-size: 1.7rem; }
            .heart:nth-child(12) { left: 85%; animation-duration: 8.5s; animation-delay: 0.3s; }
            @keyframes fall {
                0% { transform: translateY(0) rotate(0deg); opacity: 0.7; }
                100% { transform: translateY(110vh) rotate(15deg); opacity: 0.1; }
            }
            /* --- Fim Chuva de Cora√ß√µes --- */

            /* --- Anima√ß√£o Pulsar --- */
            @keyframes pulse {
                0% { transform: scale(1); box-shadow: 0 4px 15px var(--shadow-color); }
                50% { transform: scale(1.05); box-shadow: 0 6px 25px var(--shadow-color); }
                100% { transform: scale(1); box-shadow: 0 4px 15px var(--shadow-color); }
            }
            /* --- Fim Anima√ß√£o Pulsar --- */

            /* Anima√ß√£o de Abertura */
            #opening-animation {
                position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
                background: linear-gradient(135deg, var(--bg-secondary-color), var(--secondary-color));
                display: flex; justify-content: center; align-items: center; flex-direction: column;
                z-index: 1000; transition: opacity 1s ease-out, transform 1s ease-out;
                opacity: 1; transform: scale(1);
            }
            #opening-animation.hidden { opacity: 0; transform: scale(1.1); pointer-events: none; }

            #reveal-button {
                background-color: var(--primary-color); color: var(--white); border: 2px solid var(--primary-color);
                padding: 15px 30px; font-size: 1.2rem; font-family: var(--font-body); font-weight: bold;
                border-radius: 50px; cursor: pointer; transition: all 0.3s ease;
                box-shadow: 0 4px 15px var(--shadow-color); display: inline-flex; align-items: center; gap: 10px;
                animation: pulse 1.5s infinite ease-in-out;
            }
            #reveal-button i[data-feather] { width: 1.5rem; height: 1.5rem; }
            #reveal-button:hover {
                background-color: var(--secondary-color); border-color: var(--secondary-color);
                animation-play-state: paused;
                transform: translateY(-3px) scale(1.05);
                box-shadow: 0 6px 20px var(--shadow-color);
            }
            #reveal-button:not(:hover) {
                animation-play-state: running;
            }

            /* Conte√∫do Principal */
            #main-content {
                opacity: 0; transition: opacity 1s ease-in 0.5s; padding: 20px;
                max-width: 1200px; margin: 0 auto; position: relative; z-index: 1;
            }
            #main-content.visible { opacity: 1; }

            /* Cabe√ßalho com Nomes */
            .hero { text-align: center; margin-bottom: 40px; padding-top: 40px; }
            .hero h1 {
                font-family: var(--font-heading); font-size: 3.5rem; color: var(--white);
                margin-bottom: 10px; animation: fadeInDown 1s ease-out 1s both;
            }
            .hero h1 span { color: var(--primary-color); }

            /* Mensagem Principal */
            .message-section {
                background-color: rgba(30, 30, 30, 0.8); backdrop-filter: blur(1px); padding: 30px;
                border-radius: 15px; margin-bottom: 40px; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
                text-align: center; animation: fadeInUp 1s ease-out 1.2s both;
                border: 1px solid rgba(255, 255, 255, 0.1);
            }
            .message-section p {
                font-size: 1.2rem; color: var(--text-color); max-width: 600px;
                margin: 0 auto; line-height: 1.8;
            }
            .message-section .highlight { font-weight: bold; color: var(--primary-color); }

            /* Carrossel de Imagens */
            .carousel-section { margin-bottom: 40px; animation: fadeInUp 1s ease-out 1.4s both; }

            .carousel-container {
                position: relative;
                max-width: 800px;
                margin: 0 auto;
                overflow: hidden;
                border-radius: 15px;
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
                background-color: var(--bg-secondary-color);
            }

            .carousel-slide {
                display: flex;
                /* Impede que a imagem seja esticada verticalmente pelo flex container */
                align-items: flex-start;
                transition: transform 0.7s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            }

            .carousel-slide img {
                width: 100%; /* Ocupa 100% da largura do cont√™iner */
                height: auto; /* Altura ajusta automaticamente para manter a propor√ß√£o */
                display: block; /* Remove espa√ßo extra abaixo da imagem */
                flex-shrink: 0;
            }

            .carousel-button {
                position: absolute; top: 50%; transform: translateY(-50%);
                background-color: rgba(0, 0, 0, 0.6); color: var(--white); border: none; padding: 0;
                font-size: var(--icon-size); cursor: pointer; border-radius: 50%;
                transition: background-color 0.3s ease; z-index: 10; width: 45px; height: 45px;
                display: flex; justify-content: center; align-items: center;
            }
            .carousel-button[disabled] { cursor: default; opacity: 0.3; }
            .carousel-button:not([disabled]):hover { background-color: rgba(233, 30, 99, 0.7); }
            .carousel-button.prev { left: 15px; }
            .carousel-button.next { right: 15px; }
            .carousel-button i[data-feather] { width: 60%; height: 60%; }

            /* Player de M√∫sica */
            .music-player {
                position: fixed; bottom: 20px; right: 20px; z-index: 500;
                animation: fadeIn 1s ease-out 2s both;
            }
            #play-pause-button {
                background-color: var(--primary-color); color: var(--white); border: none;
                width: 50px; height: 50px; border-radius: 50%; cursor: pointer;
                display: flex; justify-content: center; align-items: center;
                box-shadow: 0 4px 15px var(--shadow-color);
                transition: background-color 0.3s ease, transform 0.3s ease; padding: 0;
            }
            #play-pause-button:hover { background-color: var(--secondary-color); transform: scale(1.1); }
            #play-pause-button i[data-feather] { width: 50%; height: 50%; }

            /* Contador de Tempo */
            .counter-section {
                background-color: var(--bg-secondary-color); color: var(--text-color); padding: 30px;
                border-radius: 15px; text-align: center; margin-bottom: 40px;
                box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3); animation: fadeInUp 1s ease-out 1.6s both;
                border: 1px solid rgba(255, 255, 255, 0.1);
            }
            .counter-section h2 {
                font-family: var(--font-body); font-weight: bold; font-size: 1.5rem;
                margin-bottom: 20px; color: var(--white);
            }
            .counter-grid {
                display: grid; grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
                gap: 15px; max-width: 600px; margin: 0 auto 20px auto;
            }
            .time-unit {
                background-color: rgba(233, 30, 99, 0.15); padding: 10px;
                border-radius: 8px; border: 1px solid var(--primary-color);
            }
            .time-unit span { display: block; font-size: 1.8rem; font-weight: bold; color: var(--white); }
            .time-unit p { font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; color: var(--accent-color); }
            .counter-section .start-date { margin-top: 20px; font-size: 0.9rem; opacity: 0.8; color: var(--text-color); }
            #future-date-warning { font-size: 0.8rem; margin-top: 10px; opacity: 0.7; display: none; color: var(--accent-color); }

            /* Footer Simples */
            footer {
                text-align: center; padding: 20px; margin-top: 40px; font-size: 0.9rem;
                color: var(--accent-color); opacity: 0.7;
            }

            /* Anima√ß√µes Keyframes (existentes) */
            @keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
            @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
            @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

            /* Responsividade (mantida como estava na √∫ltima vers√£o correta) */
            @media (max-width: 768px) {
                .hero h1 { font-size: 2.8rem; }
                .message-section p { font-size: 1.1rem; }
                .carousel-container { max-width: 95%; }
                .counter-grid { grid-template-columns: repeat(3, 1fr); }
                .time-unit span { font-size: 1.5rem; }
                .time-unit p { font-size: 0.8rem; }
                #play-pause-button { width: 45px; height: 45px; }
                #play-pause-button i[data-feather] { width: 45%; height: 45%; }
                .heart { font-size: 1.2rem; }
                .carousel-button { width: 40px; height: 40px; }
                .carousel-button i[data-feather] { width: 55%; height: 55%; }
            }
            @media (max-width: 480px) {
                .hero h1 { font-size: 2.2rem; }
                #reveal-button { padding: 12px 25px; font-size: 1rem; }
                #reveal-button i[data-feather] { width: 1.2rem; height: 1.2rem; }
                .message-section { padding: 20px; }
                .message-section p { font-size: 1rem; }
                .counter-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }
                .time-unit span { font-size: 1.3rem; }
                .carousel-button { width: 35px; height: 35px; }
                .carousel-button.prev { left: 10px; }
                .carousel-button.next { right: 10px; }
                .carousel-button i[data-feather] { width: 50%; height: 50%; }
                #play-pause-button { bottom: 15px; right: 15px; }
                .heart { font-size: 1rem; }
                .heart:nth-child(odd) { display: none; } /* Reduz cora√ß√µes */
            }
        </style>
    </head>
    <body>
        <div id="heart-rain">
            <div class="heart">üíó</div> <div class="heart">üíó</div> <div class="heart">üíó</div>
            <div class="heart">üíó</div> <div class="heart">üíó</div> <div class="heart">üíó</div>
            <div class="heart">üíó</div> <div class="heart">üíó</div> <div class="heart">üíó</div>
            <div class="heart">üíó</div> <div class="heart">üíó</div> <div class="heart">üíó</div>
        </div>

        <div id="opening-animation">
            <button id="reveal-button" aria-label="Abrir Surpresa">üéÅ <span>Abrir Surpresa</span> üéÅ</button>
        </div>

        <main id="main-content">
            <header class="hero">
                <h1>Jonathan <span>&</span> Maria Eduarda</h1>
            </header>

            <section class="message-section">
                <p>Meu amor, <span class="highlight">Maria Eduarda</span>, que sorte a minha ter te encontrado. Voc√™ chegou e transformou tudo, tornando cada dia mais especial. Quero que saiba que <span class="highlight">te amo demais</span> e estarei sempre aqui, vibrando com suas conquistas e te apoiando em cada passo. Voc√™ √© <span class="highlight">essencial</span> pra mim. üíñ‚ú®</p>
            </section>

            <section class="carousel-section">
                <div class="carousel-container">
                    <div class="carousel-slide">
                        <img src="jhon-1.jpg" alt="Foto do casal 1" />
                        <img src="jhon-2.jpg" alt="Foto do casal 2" />
                        <img src="jhon-3.jpg" alt="Foto do casal 3" />
                    </div>
                    <button class="carousel-button prev" aria-label="Imagem Anterior">
                        <i data-feather="chevron-left"></i>
                    </button>
                    <button class="carousel-button next" aria-label="Pr√≥xima Imagem">
                        <i data-feather="chevron-right"></i>
                    </button>
                </div>
            </section>

            <section class="counter-section">
                <h2>Juntos h√°:</h2>
                <div class="counter-grid">
                    <div class="time-unit"><span id="years">0</span><p>Anos</p></div>
                    <div class="time-unit"><span id="months">0</span><p>Meses</p></div>
                    <div class="time-unit"><span id="days">0</span><p>Dias</p></div>
                    <div class="time-unit"><span id="hours">0</span><p>Horas</p></div>
                    <div class="time-unit"><span id="minutes">0</span><p>Minutos</p></div>
                    <div class="time-unit"><span id="seconds">0</span><p>Segundos</p></div>
                </div>
                <p class="start-date">Desde ...</p>
                <p id="future-date-warning" style="display: none;">(Contagem regressiva para o nosso come√ßo!)</p>
            </section>

            <audio id="bg-music" loop>
                <source src="music-3.mp3" type="audio/mpeg" />
                Seu navegador n√£o suporta o elemento de √°udio.
            </audio>
            <div class="music-player">
                <button id="play-pause-button" aria-label="Tocar/Pausar M√∫sica">
                    <i data-feather="play"></i>
                </button>
            </div>

            <footer>Feito com üíó para Maria Eduarda por Jonathan</footer>
        </main>

        <script src="https://unpkg.com/feather-icons"></script>

        <script>
            // O JavaScript permanece o mesmo.
            document.addEventListener("DOMContentLoaded", () => {
                const revealButton = document.getElementById("reveal-button");
                const openingAnimation = document.getElementById("opening-animation");
                const mainContent = document.getElementById("main-content");
                const audioElement = document.getElementById("bg-music");
                const playPauseButton = document.getElementById("play-pause-button");
                const carouselSlide = document.querySelector(".carousel-slide");
                const prevButton = document.querySelector(".carousel-button.prev");
                const nextButton = document.querySelector(".carousel-button.next");
                const futureDateWarning = document.getElementById("future-date-warning");
                const startDateTextElement = document.querySelector(".counter-section .start-date");
                const yearsEl = document.getElementById("years");
                const monthsEl = document.getElementById("months");
                const daysEl = document.getElementById("days");
                const hoursEl = document.getElementById("hours");
                const minutesEl = document.getElementById("minutes");
                const secondsEl = document.getElementById("seconds");

                let counterInterval;
                let currentIndex = 0;
                let totalImages = 0;
                let isAudioPlaying = false;

                const startDate = new Date(2025, 2, 23, 0, 0, 0); // 23 de Mar√ßo de 2025

                function updateCarousel() {
                    const carouselImages = carouselSlide.querySelectorAll("img");
                    totalImages = carouselImages.length;

                    if (totalImages === 0) {
                        console.warn("Nenhuma imagem encontrada no carrossel.");
                        if (prevButton) prevButton.style.display = "none";
                        if (nextButton) nextButton.style.display = "none";
                        return;
                    }

                    const offset = -currentIndex * 100;
                    carouselSlide.style.transform = `translateX(${offset}%)`;

                    const disableButtons = totalImages <= 1;
                    if (prevButton) {
                        prevButton.disabled = disableButtons;
                        prevButton.style.display = disableButtons ? "none" : "flex";
                    }
                    if (nextButton) {
                        nextButton.disabled = disableButtons;
                        nextButton.style.display = disableButtons ? "none" : "flex";
                    }
                }

                function updatePlayPauseIcon() {
                    if (!playPauseButton) return;
                    playPauseButton.innerHTML = isAudioPlaying
                        ? '<i data-feather="pause"></i>'
                        : '<i data-feather="play"></i>';
                    feather.replace();
                }

                function updateCounter() {
                    const now = new Date();
                    const diff = now - startDate;

                    if (!yearsEl || !monthsEl || !daysEl || !hoursEl || !minutesEl || !secondsEl) {
                        console.error("Elementos do contador n√£o encontrados.");
                        if (counterInterval) clearInterval(counterInterval);
                        return;
                    }

                    if (diff < 0) {
                        if (futureDateWarning) futureDateWarning.style.display = "block";
                        const timeLeft = startDate - now;
                        const s = Math.floor((timeLeft / 1000) % 60);
                        const m = Math.floor((timeLeft / 1000 / 60) % 60);
                        const h = Math.floor((timeLeft / (1000 * 60 * 60)) % 24);
                        const d = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                        yearsEl.innerText = "0"; monthsEl.innerText = "0";
                        daysEl.innerText = String(d).padStart(2, "0");
                        hoursEl.innerText = String(h).padStart(2, "0");
                        minutesEl.innerText = String(m).padStart(2, "0");
                        secondsEl.innerText = String(s).padStart(2, "0");
                    } else {
                        if (futureDateWarning) futureDateWarning.style.display = "none";
                        let years = now.getFullYear() - startDate.getFullYear();
                        let months = now.getMonth() - startDate.getMonth();
                        let days = now.getDate() - startDate.getDate();
                        let hours = now.getHours() - startDate.getHours();
                        let minutes = now.getMinutes() - startDate.getMinutes();
                        let seconds = now.getSeconds() - startDate.getSeconds();
                        if (seconds < 0) { minutes--; seconds += 60; }
                        if (minutes < 0) { hours--; minutes += 60; }
                        if (hours < 0) { days--; hours += 24; }
                        if (days < 0) {
                            months--;
                            const daysInLastMonth = new Date(now.getFullYear(), now.getMonth(), 0).getDate();
                            days += daysInLastMonth;
                        }
                        if (months < 0) { years--; months += 12; }
                        secondsEl.innerText = String(seconds).padStart(2, "0");
                        minutesEl.innerText = String(minutes).padStart(2, "0");
                        hoursEl.innerText = String(hours).padStart(2, "0");
                        daysEl.innerText = String(days).padStart(2, "0");
                        monthsEl.innerText = String(months).padStart(2, "0");
                        yearsEl.innerText = String(years);
                    }
                }

                function startRelationshipCounter() {
                    if (counterInterval) return;
                    if (isNaN(startDate.getTime())) {
                        console.error("Data de in√≠cio inv√°lida!");
                         if (futureDateWarning) { futureDateWarning.innerText = "Data Inv√°lida!"; futureDateWarning.style.display = "block"; }
                        if (startDateTextElement) startDateTextElement.innerText = "Data inv√°lida";
                         [yearsEl, monthsEl, daysEl, hoursEl, minutesEl, secondsEl].forEach(el => { if (el) el.innerText = "--"; });
                        return;
                    }
                    if (startDateTextElement) {
                        const options = { year: "numeric", month: "long", day: "numeric" };
                        const formattedStartDate = startDate.toLocaleDateString("pt-BR", options);
                         startDateTextElement.innerText = `Desde ${formattedStartDate}`;
                    }
                    updateCounter();
                    counterInterval = setInterval(updateCounter, 1000);
                }

                // --- Event Listeners ---
                if (revealButton) {
                    revealButton.addEventListener("click", () => {
                        if (openingAnimation) openingAnimation.classList.add("hidden");
                        if (mainContent) mainContent.classList.add("visible");
                        if (audioElement) {
                            audioElement.play().then(() => {
                                isAudioPlaying = true; updatePlayPauseIcon();
                            }).catch(error => {
                                console.warn("Autoplay bloqueado:", error);
                                isAudioPlaying = false; updatePlayPauseIcon();
                            });
                        }
                        startRelationshipCounter();
                        updateCarousel();
                    });
                } else { console.error("Bot√£o de revela√ß√£o n√£o encontrado."); }

                if (playPauseButton && audioElement) {
                    playPauseButton.addEventListener("click", () => {
                        if (audioElement.paused) { audioElement.play(); } else { audioElement.pause(); }
                    });
                    audioElement.onplay = () => { isAudioPlaying = true; updatePlayPauseIcon(); };
                    audioElement.onpause = () => { isAudioPlaying = false; updatePlayPauseIcon(); };
                }

                if (nextButton) {
                    nextButton.addEventListener("click", () => {
                        if (totalImages === 0) return;
                        currentIndex = (currentIndex + 1) % totalImages;
                        updateCarousel();
                    });
                }
                if (prevButton) {
                    prevButton.addEventListener("click", () => {
                        if (totalImages === 0) return;
                        currentIndex = (currentIndex - 1 + totalImages) % totalImages;
                        updateCarousel();
                    });
                }

                // --- Inicializa√ß√£o ---
                feather.replace();
                updateCarousel();
                updatePlayPauseIcon();
            });
        </script>
    </body>
</html>
